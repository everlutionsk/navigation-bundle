services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Everlution\NavigationBundle\Bridge\Item\RequestAttributesContainer:
        arguments:
            - '@request_stack'

    Everlution\Navigation\Registry: ~
    Everlution\Navigation\Url\UrlProviderContainer: ~
    Everlution\NavigationBundle\Bridge\NavigationAliasContainer: ~
    Everlution\NavigationBundle\Bridge\Matcher:
        arguments:
            - '@request_stack'
            - '@Everlution\Navigation\Match\VoterContainer'

    Everlution\NavigationBundle\Bridge\Url\UrlProvider:
        arguments:
            - '@everlution.navigation_router'
        tags: ['everlution.url_provider']

    # twig extension
    Everlution\NavigationBundle\Twig\NavigationHelper: ~
    Everlution\NavigationBundle\Twig\NavigationExtension:
        arguments:
            - '@Everlution\NavigationBundle\Twig\NavigationHelper'
        tags: ['twig.extension']

    # match voters
    Everlution\Navigation\Match\VoterContainer: ~
    Everlution\Navigation\Match\Voter\ExactMatchVoter:
        tags: ['everlution.match_voter']
    Everlution\Navigation\Match\Voter\PrefixMatchVoter:
        tags: ['everlution.match_voter']
    Everlution\Navigation\Match\Voter\RegexMatchVoter:
        tags: ['everlution.match_voter']
